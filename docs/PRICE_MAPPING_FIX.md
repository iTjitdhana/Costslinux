# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Material ID Mapping ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤

## üîç **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö**

### ‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢(‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡∏•‡∏≤‡∏á) ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô `-` ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏ô database

## ‚úÖ **‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤**

### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• BOM
```json
{
  "Raw_Code": "411041",
  "material_id": 45,  // ‚Üê ‡πÉ‡∏ä‡πâ material_id ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤
  "Mat_Name": "‡∏ã‡∏≠‡∏™‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏° ‡∏á‡πà‡∏ß‡∏ô‡πÄ‡∏ä‡∏µ‡∏¢‡∏á 770 ‡∏Å‡∏£‡∏±‡∏° - CT"
}
```

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏ô Database
```json
{
  "material_id": 411041,  // ‚Üê Raw_Code ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà material_id ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
  "material_name": "‡∏ã‡∏≠‡∏™‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏° ‡∏á‡πà‡∏ß‡∏ô‡πÄ‡∏ä‡∏µ‡∏¢‡∏á 770 ‡∏Å‡∏£‡∏±‡∏° - CT",
  "price_per_unit": "37.660000"
}
```

### 3. ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö
- **BOM ‡πÉ‡∏ä‡πâ `material_id: 45`** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤
- **Database ‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `material_id: 411041`** (‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô Raw_Code ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
- **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `material_id: 45`**

## ‚úÖ **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥**

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Material ID Mapping ‡πÉ‡∏ô InventoryData.js

```javascript
// ‚ùå ‡πÄ‡∏î‡∏¥‡∏° - ‡πÉ‡∏ä‡πâ material_id ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Raw Materials
material_id: (item.is_fg === '1' || item.is_fg === 1) ? item.Mat_Id : item.material_id

// ‚úÖ ‡πÉ‡∏´‡∏°‡πà - ‡πÉ‡∏ä‡πâ Raw_Code ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Raw Materials  
material_id: (item.is_fg === '1' || item.is_fg === 1) ? item.Mat_Id : item.Raw_Code
```

### ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
- **FG (Finished Goods)**: ‡πÉ‡∏ä‡πâ `Mat_Id` (‡πÄ‡∏ä‡πà‡∏ô 235191)
- **Raw Materials**: ‡πÉ‡∏ä‡πâ `Raw_Code` (‡πÄ‡∏ä‡πà‡∏ô 411041, 413001, 411011, 413012)

## üß™ **‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**

### API Test Results
```bash
curl "http://localhost:3104/api/prices/latest-batch?material_ids=413001,411041,411011,413012"
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
```json
[
  {
    "material_id": 413001,
    "material_name": "‡∏ä‡∏π‡∏£‡∏™ 20 ‡∏Å‡∏Å.(‡∏ñ‡∏∏‡∏á‡∏•‡∏∞ 1 ‡∏Å‡∏Å) - CT",
    "price_per_unit": "87.000000"
  },
  {
    "material_id": 411041,
    "material_name": "‡∏ã‡∏≠‡∏™‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏° ‡∏á‡πà‡∏ß‡∏ô‡πÄ‡∏ä‡∏µ‡∏¢‡∏á 770 ‡∏Å‡∏£‡∏±‡∏° - CT", 
    "price_per_unit": "37.660000"
  },
  {
    "material_id": 411011,
    "material_name": "‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏Ç‡∏≤‡∏ß‡∏™‡∏π‡∏ï‡∏£ 3 ‡∏ï‡∏£‡∏≤‡πÄ‡∏î‡πá‡∏Å‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå 700 CC. - CT",
    "price_per_unit": "41.430000"
  },
  {
    "material_id": 413012,
    "material_name": "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢‡∏Ç‡∏≤‡∏ß‡∏ö‡∏£‡∏¥‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πå 1 ‡∏Å‡∏Å. - CT",
    "price_per_unit": "0.000000"  // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏Ñ‡∏≤
  }
]
```

## üéØ **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á**

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏ô‡πâ‡∏≤ Inventory ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á:
- **‡∏ä‡∏π‡∏£‡∏™ 20 ‡∏Å‡∏Å.**: ‡∏£‡∏≤‡∏Ñ‡∏≤ 87.00 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.
- **‡∏ã‡∏≠‡∏™‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏°**: ‡∏£‡∏≤‡∏Ñ‡∏≤ 37.66 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.
- **‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏Ç‡∏≤‡∏ß**: ‡∏£‡∏≤‡∏Ñ‡∏≤ 41.43 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.
- **‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢**: ‡∏£‡∏≤‡∏Ñ‡∏≤ 0.00 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å. (‡∏´‡∏£‡∏∑‡∏≠ -)

## üìÅ **‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**

1. **frontend/src/pages/InventoryData.js**
   - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç material_id mapping ‡πÉ‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `loadBOMByJobCode`
   - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `item.material_id` ‡πÄ‡∏õ‡πá‡∏ô `item.Raw_Code` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Raw Materials

## üîß **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö**

### ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
1. BOM ‡∏™‡πà‡∏á `material_id: 45` ‡πÑ‡∏õ‡∏¢‡∏±‡∏á API
2. API ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô `default_itemvalue` ‡∏î‡πâ‡∏ß‡∏¢ `material_id: 45`
3. ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Üí ‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô `[]`
4. Frontend ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏õ‡πá‡∏ô `-`

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
1. BOM ‡∏™‡πà‡∏á `material_id: 411041` (Raw_Code) ‡πÑ‡∏õ‡∏¢‡∏±‡∏á API
2. API ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô `default_itemvalue` ‡∏î‡πâ‡∏ß‡∏¢ `material_id: 411041`
3. ‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‚Üí ‡∏™‡πà‡∏á‡∏Ñ‡∏∑‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤
4. Frontend ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ 37.66 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.

## ‚ö†Ô∏è **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**

- ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏î‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Raw Materials ‡∏ó‡∏µ‡πà‡∏°‡∏µ Raw_Code ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö material_id ‡πÉ‡∏ô database
- FG (Finished Goods) ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÉ‡∏ä‡πâ Mat_Id ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
- ‡∏´‡∏≤‡∏Å Raw_Code ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö material_id ‡πÉ‡∏ô database ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô `-`

## üß™ **‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ http://localhost:3014/inventory
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ BOM (‡πÄ‡∏ä‡πà‡∏ô 235191)
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤:
   - ‡∏ä‡∏π‡∏£‡∏™ 20 ‡∏Å‡∏Å. ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ 87.00 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.
   - ‡∏ã‡∏≠‡∏™‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏° ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ 37.66 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.
   - ‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏Ç‡∏≤‡∏ß ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ 41.43 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å.
   - ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢ ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ 0.00 ‡∏ö‡∏≤‡∏ó/‡∏Å‡∏Å. (‡∏´‡∏£‡∏∑‡∏≠ -)
