@echo off
chcp 65001 >nul
echo ========================================
echo    Merge Database Script for Windows
echo ========================================
echo.

echo ðŸ” à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¹ˆà¸­à¸™ merge
echo.
node generate_batch_ids.js --check
echo.

echo.
echo âš ï¸  à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: à¸„à¸§à¸£à¸—à¸³ backup à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¹ˆà¸­à¸™à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸•à¹ˆà¸­
echo.
echo ðŸ”„ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1.5: à¸—à¸³à¸à¸²à¸£ backup à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
echo.
node backup_database.js
echo.

set /p confirm="à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£ merge à¸•à¹ˆà¸­à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ? (y/N): "
if /i "%confirm%"=="y" (
    echo.
    echo ðŸ”„ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2: à¸—à¸³à¸à¸²à¸£ merge à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
    echo.
    node generate_batch_ids.js --merge
    echo.
    
    echo ðŸ” à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ
    echo.
    node verify_merge.js --detailed
    echo.
    
    echo âœ… à¸à¸²à¸£ merge à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™
) else (
    echo âŒ à¸¢à¸à¹€à¸¥à¸´à¸à¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£
)

echo.
echo à¸à¸” Enter à¹€à¸žà¸·à¹ˆà¸­à¸›à¸´à¸”à¸«à¸™à¹‰à¸²à¸•à¹ˆà¸²à¸‡...
pause >nul
